
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WoW Quest Log</title>
  <style>
    body {
      background-color: #171717;
      background-image: url("https://www.transparenttextures.com/patterns/egg-shell.png");
      font-family: "Verdana", sans-serif;
      color: #fdf6d8;
      padding: 20px;
    }

    .container {
      display: flex;
      flex-direction: column;
      gap: 40px;
    }

    .quest-log {
      max-width: 600px;
      background: linear-gradient(#3c2c1e, #2c1c10);
      border: 4px ridge #c6a664;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px #000;
      margin-bottom: 20px;
    }

    .quest-title {
      font-size: 24px;
      font-weight: bold;
      color: #ffd100;
      margin-bottom: 5px;
    }

    .quest-meta {
      font-size: 14px;
      margin-bottom: 15px;
      color: #ccc;
    }

    .quest-meta .npc {
      color: #4ec9b0;
    }

    .quest-objectives ul {
      list-style: none;
      padding-left: 0;
    }

    .quest-objectives li {
      margin: 5px 0;
    }

    .quest-description {
      margin-top: 15px;
      font-size: 14px;
      line-height: 1.5;
    }

    .complete-btn {
      margin-top: 20px;
      background: #228b22;
      color: white;
      padding: 10px 15px;
      border: none;
      font-weight: bold;
      border-radius: 5px;
      cursor: pointer;
    }

    .complete-btn:hover {
      background: #2e9c2e;
    }

    .collapsed-quest {
      background: #1e1e1e;
      border: 2px solid #666;
      padding: 10px;
      margin-top: 10px;
      cursor: pointer;
      color: #ccc;
      font-weight: bold;
      border-radius: 6px;
      transition: background 0.3s;
    }

    .collapsed-quest:hover {
      background: #333;
    }
  </style>
</head>
<body>
  <h1>üß≠ –ñ—É—Ä–Ω–∞–ª –∑–∞–¥–∞–Ω–∏–π</h1>
  <div class="container">
    <div class="active-quests">
      <h2>üìú –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</h2>
      <div id="quest-container"></div>
    </div>

    <div class="completed-quests">
      <h2>‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</h2>
      <div id="completed-list"></div>
    </div>
  </div>

  <script>
    const API_URL = "https://w47akzbuag.execute-api.us-east-1.amazonaws.com/default/quests";

    async function loadQuests() {
      const res = await fetch(API_URL);
      const quests = await res.json();

      const container = document.getElementById("quest-container");
      container.innerHTML = "";

      quests.forEach(q => {
        const div = document.createElement("div");
        div.className = "quest-log";
        div.innerHTML = `
          <div class="quest-title">üó∫Ô∏è ${q.title}</div>
          <div class="quest-meta">–ò—Å—Ç–æ—á–Ω–∏–∫: <span class="npc">NPC</span></div>
          <div class="quest-objectives"><strong>–¶–µ–ª—å:</strong><p>${q.objective}</p></div>
          <div class="quest-description"><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><p>${q.description}</p></div>
          <div><strong>–ù–∞–≥—Ä–∞–¥–∞:</strong> ${q.reward}</div>
          <button class="complete-btn" onclick="markCompleted(this)">‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ</button>
        `;
        container.appendChild(div);
      });
    }

    function markCompleted(button) {
      const quest = button.closest(".quest-log");
      const title = quest.querySelector(".quest-title").innerText;

      const collapsed = document.createElement("div");
      collapsed.className = "collapsed-quest";
      collapsed.innerText = title;
      collapsed.onclick = () => {
        document.querySelector(".active-quests #quest-container").appendChild(quest);
        quest.style.display = "block";
        collapsed.remove();
        const restoreBtn = document.createElement("button");
        restoreBtn.className = "complete-btn";
        restoreBtn.innerText = "‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ";
        restoreBtn.onclick = () => markCompleted(restoreBtn);
        if (!quest.querySelector(".complete-btn")) quest.appendChild(restoreBtn);
      };

      quest.style.display = "none";
      document.getElementById("completed-list").appendChild(collapsed);
    }

    loadQuests();
  </script>
</body>
</html>
